<!DOCTYPE html>
<style>
  #map {
    width: 100%;
    height: 400px;
    background-color:grey;
  }
  h3 {text-align: center;}
 </style>
<html>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <head>
    <meta charset="utf-8">
    <title>Ada Bikun!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <style>
       /* Set the size of the div element that contains the map */
      #map {
        height: 400px;  /* The height is 400 pixels */
        width: 100%;  /* The width is the width of the web page */
       }
    </style>
  </head>
  <body>
    <div class="halaman_utama">
    <h3 text-align:"center">"Ada Bikun !"</h3>
    <!--The div element for the map -->
    <div id="map"></div>
    <script>
// fungsi untuk menampilkan maps
function initMap() {
  // posisi tengah googlemaps
  var uluru = {lat: -6.365620, lng: 106.828022};
  // map dengan posisi tengah sesuai kordinat uluru
  var map = new google.maps.Map(
      document.getElementById('map'), {zoom: 15, center: uluru});
  

  // garis jalur bikun
  var flightPlanCoordinates = [
          // mulai dari deket FT
          {lat: -6.361702, lng: 106.822748},
          {lat: -6.359484, lng: 106.825023},
          {lat: -6.359591, lng: 106.828091},
          {lat: -6.362660, lng: 106.831304},
          {lat: -6.362575, lng: 106.831615}, 
          {lat: -6.358118, lng: 106.831057},
          {lat: -6.356966, lng: 106.830177},
          {lat: -6.356604, lng: 106.830015},
          {lat: -6.355954, lng: 106.830101},
          {lat: -6.354067, lng: 106.831474},
          {lat: -6.352257, lng: 106.831762},
          {lat: -6.351180, lng: 106.831437},
          {lat: -6.349413, lng: 106.831809},
          {lat: -6.349061, lng: 106.831720},
          {lat: -6.348840, lng: 106.831383},
          {lat: -6.348243, lng: 106.828095},
          {lat: -6.348083, lng: 106.828116},
          // bunderan di deket asrama
          {lat: -6.348797, lng: 106.831560},
          {lat: -6.348967, lng: 106.831860},
          {lat: -6.349351, lng: 106.831946},
          {lat: -6.351238, lng: 106.831549},
          {lat: -6.352166, lng: 106.831892},
          {lat: -6.354260, lng: 106.831606},
          {lat: -6.356078, lng: 106.830263},
          //dket city park
          {lat: -6.356552, lng: 106.830178},
          {lat: -6.357942, lng: 106.831140},
          {lat: -6.364185, lng: 106.832079},
          {lat: -6.367917, lng: 106.832087},
          {lat: -6.368770, lng: 106.831068},
          {lat: -6.370676, lng: 106.830947},
          {lat: -6.371572, lng: 106.829906},
          {lat: -6.371412, lng: 106.827481},
          {lat: -6.368810, lng: 106.825081},
          {lat: -6.366896, lng: 106.824743},
          {lat: -6.366757, lng: 106.822556},
          {lat: -6.365733, lng: 106.821547},
          {lat: -6.361702, lng: 106.822716},

        ];
   var flightPath = new google.maps.Polyline({
          path: flightPlanCoordinates,
          geodesic: true,
          strokeColor: '#FF0000',
          strokeOpacity: 1.0,
          strokeWeight: 2
        });

        flightPath.setMap(map);

  /*var marker = new google.maps.Marker({
    position: {lat:-6.361080, lng:106.823351}, map:map, 
    icon: 'C:/@Pen&Pin/Exercise/assets/lokasi.png'
  });*/
  // Listen for click on map
      google.maps.event.addListener(map, 'click', function(event){
        // menampilkan marker untuk halte bikun
        addMarker({coords:event.latLng});
      });   

  

 var markers = [
        {
          coords:{lat:-6.348126,lng:106.829328},
          iconImage:'C:/@Pen&Pin/Exercise/assets/lokasi.png',
          content:'<h1>Asrama UI</h1>'
        },
        {
          coords:{lat:-6.366199,lng:106.821594},
          iconImage:'C:/@Pen&Pin/Exercise/assets/lokasi.png',
          content:'<h1>Halte Vokasi</h1>'
        },
        {
          coords:{lat:-6.369551,lng:106.825876},
          iconImage:'C:/@Pen&Pin/Exercise/assets/lokasi.png',
          content:'<h1>Halte FMIPA</h1>'
        },
        {
          coords:{lat:-6.371447,lng:106.829186},
          iconImage:'C:/@Pen&Pin/Exercise/assets/lokasi.png',
          content:'<h1>Halte FKM</h1>'
        },
        {
          coords:{lat:-6.368123,lng:106.831428},
          iconImage:'C:/@Pen&Pin/Exercise/assets/lokasi.png',
          content:'<h1>Halte Pocin</h1>'
        },
        {
          coords:{lat:-6.361080,lng:106.823351},
          iconImage:'C:/@Pen&Pin/Exercise/assets/lokasi.png',
          content:'<h1>Halte FT</h1>'
        },
        {
          coords:{lat:-6.359491,lng:106.825636},
          iconImage:'C:/@Pen&Pin/Exercise/assets/lokasi.png',
          content:'<h1>Halte FEB</h1>'
        },
        {
          coords:{lat:-6.360933,lng:106.831872},
          iconImage:'C:/@Pen&Pin/Exercise/assets/lokasi.png',
          content:'<h1>Halte UI</h1>'
        },
        {
          coords:{lat:-6.364609,lng:106.832269},
          iconImage:'C:/@Pen&Pin/Exercise/assets/lokasi.png',
          content:'<h1>Halte FH</h1>'
        },
        {
          coords:{lat:-6.364609,lng:106.832269},
          iconImage:'C:/@Pen&Pin/Exercise/assets/lokasi.png',
          content:'<h1>Halte FH</h1>'
        }
      ];


// looping untuk menampilkan marker
 for(var i = 0;i < markers.length;i++){
     // Add marker
     addMarker(markers[i]);
     }
// Add Marker Function
function addMarker(props){
        var marker = new google.maps.Marker({
          position:props.coords,
          map:map,
          icon:props.iconImage
        });

        // Check for customicon
        if(props.iconImage){
          // Set icon image
          marker.setIcon(props.iconImage);
        }

        // Check content
        if(props.content){
          var infoWindow = new google.maps.InfoWindow({
            content:props.content
          });

          marker.addListener('click', function(){
            infoWindow.open(map, marker);
          });
        }
      }
  }


    </script>
    <!--Load the from the specified URL
    * The async attribute allows the browser to render the page while the API loads
    * The key parameter will contain your own API key (which is not needed for this tutorial)
    * The callback parameter executes the initMap() function
    -->
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=APIKEY">
    </script>
    </div>
  </body>
</html>
